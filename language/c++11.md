== C++11 practice with Tango codebase ==

=== auto ===

==== example ====

'''
boost::unordered_map<std::string, ContactImplPointer> iter = tangoContacts.begin();
'''

in r157689 (container_util.h):

'''
LET(iter, tangoContacts.begin());
'''

in r157671:

'''
auto iter = tangoContacts.begin();
'''

==== others =====

const auto& 

Range-based for(iterVarDecl: expression) implementation:

'''
{
	auto&& rango = expression;
	for(auto b = begin(range), end = end(range); b != e; ++b) {
		iterVarDecl = *b;
		<statements>
	}
}
</pre>
'''

=== raw string ===


=== uniform initialization ====

==== example ====
'''
std::set<sgiggle::corefacade::util::PhoneTypeEnum> phoneTypesInOrder;
phoneTypesInOrder.insert(sgiggle::corefacade::util::PHONE_TYPE_IPHONE);
...
if(allow_non_mobile) {
	phoneTypesInOrder.insert(sgiggle::corefacade::util::PHONE_TYPE_MAIN);
	...
}
'''

in r157619:

'''
std::set<sgiggle::corefacade::util::PhoneTypeEnum> phoneTypesInOrder{sgiggle::corefacade::util::PHONE_TYPE_IPHONE,
    sgiggle::corefacade::util::PHONE_TYPE_MOBILE, sgiggle::corefacade::util::PHONE_TYPE_WORK};
if (allow_non_mobile) {
    phoneTypesInOrder.insert({sgiggle::corefacade::util::PHONE_TYPE_MAIN, sgiggle::corefacade::util::PHONE_TYPE_GENERIC, sgiggle::corefacade::util::PHONE_TYPE_HOME});
}
'''

==== others ====

=== lambda ===

==== example ====

'''

#define SEQ_ERASE(iter_ahead, seq, predicate)        \
    {                                                  \
      auto iter_ahead = (seq).begin();                  \
      auto iter_valid = (seq).begin();                  \
      for(; iter_ahead != (seq).end(); ++iter_ahead) { \
        if (!(predicate)) {                            \
          *(iter_valid++) = *iter_ahead;               \
        }                                              \
      }                                                \
      (seq).erase(iter_valid, (seq).end());            \
    }


SEQ_ERASE(iter, *contactUpdatedSucceedList, (!getContactByHash((*iter)) || getContactByHash((*iter))->isNotToBeDisplayed()));

'''

in r157689:

'''
contactUpdatedSucceedList->erase(std::remove_if(contactUpdatedSucceedList->begin(),
                                                      contactUpdatedSucceedList->end(),
                                                      [=](std::string& hash){
                                                        return !getContactByHash(hash) || getContactByHash(hash)->isNotToBeDisplayed();
                                                      }), contactUpdatedSucceedList->end()); 

'''

=== concurrency support ===

* thread
* future
* mutex/condition
* call_once/once_flag

=== move ===

=== UDT (user defined type) ===

* default
* delete
* default data member (uniform init)
* delegate constructor
